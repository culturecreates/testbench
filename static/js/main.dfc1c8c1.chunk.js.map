{"version":3,"sources":["JsonValidator.js","FeatureCell.js","utils.js","JsonSchemas.js","ReconciliationService.js","FeatureRow.js","FeatureTable.js","TabLink.js","ReconciliationServiceInput.js","ReconcileSuggest.js","GenericInput.js","PropertyMapping.js","Candidate.js","PreviewRenderer.js","DataExtensionValue.js","DataExtensionTab.js","TestBench.js","App.js","serviceWorker.js","index.js"],"names":["FeatureCell","glyph","text","color","cellClass","this","props","value","span","react_default","a","createElement","className","sr-only","style","link","onClick","Button_default","bsStyle","bsSize","title","React","Component","addParams","baseUrl","params","url","URL","Object","keys","forEach","key","searchParams","append","toString","fetchJsonpParams","fetchJsonp","timeout","fetchParams","fetch","jsonTheme","scheme","author","base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F","specVersions","validatorAjv","Ajv","allErrors","compiledSchemas","_i","_Object$entries","entries","0.1","data-extension-query","$schema","$id","type","description","properties","ids","items","id","settings","required","data-extension-response","meta","name","rows","patternProperties",".*","oneOf","additionalProperties","str","float","int","date","pattern","manifest","identifierSpace","schemaSpace","view","defaultTypes","uniqueItems","suggest","definitions","service_definition","service_url","service_path","flyout_service_url","flyout_service_path","entity","$ref","property","preview","width","height","extend","propose_properties","property_settings","enum","default","label","help_text","choices","reconciliation-query-batch","property_value","^.*$","query","limit","pid","v","type_strict","reconciliation-result-batch","result","score","match","suggest-entities-response","notable","suggest-properties-response","suggest-types-response","latest","versions","contains","feature_view","serverLimits","batchRate","maxConnections","features","length","JsonValidator_ref3","JsonValidator_ref2","slicedToArray","version","schemas","compiled","_i2","_Object$entries2","_ref6","_ref5","schema","compile","getSchema","schemaName","ReconciliationService","endpoint","cors","classCallCheck","latestCompatibleVersion","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","err","return","FeatureRow","_this","possibleConstructorReturn","getPrototypeOf","call","checkJsonp","setState","reacheableJSONP","then","response","json","catch","error","triggerOnSelect","onSelect","reconciliationService","state","reacheableCORS","_this2","jsonp","isReacheable","suggestSettings","parts","documentation","source_url","push","href","target","rel","wd_uri","nameCell","disabled","FeatureCell_FeatureCell","hasView","hasSuggestEntity","hasSuggestType","hasSuggestProperty","hasPreview","hasExtend","Row","FeatureTable","refreshServicesFromWD","method","refreshing","sparql_query","format","promise","urlParams","URLSearchParams","mode","cache","headers","Content-Type","body","services","results","bindings","map","entry","serviceLabel","source","service","console","log","loadAllJsonp","row","useJsonp","openAddServiceDialog","showAddServiceDialog","closeAddServiceDialog","Fragment","Table_default","striped","bordered","hover","FeatureRow_FeatureRow","Modal_default","show","onHide","Header","closeButton","Title","Body","sparqlQueryUrl","encodeURIComponent","TabLink","_ref","to","exact","useRouteMatch","path","role","react_router_dom","ReconciliationServiceInput","initialService","timer","validateEndpoint","e","clearTimeout","setTimeout","_this3","_setService","_setError","onChange","message","getValidationState","startsWith","preventDefault","_this4","Form_default","horizontal","onSubmit","handleSubmit","FormGroup_default","controlId","validationState","Col_default","componentClass","ControlLabel","sm","FormControl_default","placeholder","handleChange","Feedback","HelpBlock_default","getMessage","ReconcileSuggest","onSuggestionsFetchRequested","getUrl","prefix","isLoading","getFetcher","fetcher","suggestions","onSuggestionsClearRequested","newValue","configuration","entityClass","lib","onSearch","options","labelKey","filterBy","option","selected","getValue","renderMenuItemChildren","index","Array","isArray","broader","join","GenericInput","onSuggestChange","onIdChange","currentTarget","explicitSubmit","hasAutocomplete","ReconcileSuggest_ReconcileSuggest","currentValue","InputGroup_default","currentId","Button","val","PropertyMapping","newMapping","emitChange","concat","deleteMapping","idx","newArray","slice","splice","onValueChange","onPropertyChange","propertyValue","mapping","display","marginBottom","GenericInput_GenericInput","renderMappings","Candidate","candidate","types","ListGroupItem_default","header","active","Badge_default","renderDescription","renderTypes","replace","PreviewRenderer","iframe","iframeUrl","Number","isInteger","__html","_","dangerouslySetInnerHTML","DataExtensionValue","renderedValue","datatype","DataExtensionTab","onEntityChange","extendResults","validationErrors","resetQuery","submitQuery","formulateQueryUrl","validateServiceResponse","exdentResults","extendError","JSON","stringify","formulateQuery","values","ListGroup_default","DataExtensionValue_DataExtensionValue","errors","dataPath","react_json_tree_lib_default","theme","data","getItemString","itemType","itemString","shouldExpandNode","keyName","level","hideRoot","renderResponseValidationErrors","renderQueryResults","TestBench","onReconQueryChange","reconQuery","onReconTypeChange","reconType","onCustomTypeChange","reconCustomType","onReconPropertiesChange","reconProperties","onReconLimitChange","reconLimit","onPreviewEntityChange","previewEntityId","onSubmitReconciliation","reconResults","q0","reconResponseValidationErrors","reconError","Candidate_Candidate","Alert_default","filter","m","isNaN","parseInt","queries","formulateReconQuery","current","t","Radio_default","checked","hasTypeSuggest","renderManifestValidationErrors","Tabs_default","defaultActiveKey","animation","Tab_default","eventKey","renderTypeChoices","PropertyMapping_PropertyMapping","renderReconResponseValidationErrors","hasPreviewService","PreviewRenderer_PreviewRenderer","hasDataExtension","DataExtensionTab_DataExtensionTab","TestbenchTab","servicesMap","onEndpointChange","useParams","decodeURIComponent","testBench","TestBench_TestBench","history","useHistory","ReconciliationServiceInput_ReconciliationServiceInput","TableTab","_ref2","onEndpointSelect","FeatureTable_FeatureTable","App","newServicesMap","assign","selectedEndpoint","openTab","handleTabSelect","servicesList","margin","react_router","children","_ref3","Boolean","window","location","hostname","ReactDOM","render","App_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.dfc1c8c1.chunk.js","sourcesContent":["import Ajv from 'ajv';\nimport { specSchemas } from './JsonSchemas.js';\n\n\nconst validatorAjv = new Ajv({allErrors: true});\n\n// compiled cache of all schemas involved in the specs\nconst compiledSchemas = {};\n\nfor (let [version, schemas] of Object.entries(specSchemas)) {\n\tlet compiled = {};\n\tfor (let [name, schema] of Object.entries(schemas)) {\n\t\tcompiled[name] = validatorAjv.compile(schema);\n\t}\n\tcompiledSchemas[version] = compiled;\n}\n\n/**\n * Returns the schema validator for a given version and a type of object.\n */\nexport const getSchema = (version, schemaName) => {\n\tlet actualVersion = version === null ? '0.1' : version;\n\treturn compiledSchemas[actualVersion][schemaName];\n}\n\n\n","\nimport React from 'react';\nimport Button from 'react-bootstrap/lib/Button';\n\nexport default class FeatureCell extends React.Component {\n   render() {\n      let glyph = '';\n      let text = '';\n      let color = 'inherit';\n      let cellClass = 'featureCell-default';\n      if (this.props.value === true) {\n        glyph = 'glyphicon glyphicon-ok';\n        text = 'available';\n        color = 'green';\n        cellClass = 'featureCell-green';\n      } else if (this.props.value === false) {\n        glyph = 'glyphicon glyphicon-remove';\n        text = 'unavailable';\n        color = '#c00000';\n        cellClass = 'featureCell-red';\n      } else if (this.props.value === 'checking') {\n        glyph = 'glyphicon glyphicon-hourglass';\n        text = 'fetching...';\n      } else if (this.props.value === 'maybe') {\n        glyph = 'glyphicon glyphicon-search';\n        text = 'Not reachable via CORS, click to check via JSONP';\n        cellClass = 'featureCell-yellow';\n      }\n      let span = <span className={glyph} sr-only={text} style={{color: color}}></span>;\n      let link = span;\n      if (this.props.onClick && this.props.value === 'maybe') {\n         link = <Button onClick={this.props.onClick} bsStyle=\"warning\" bsSize=\"xsmall\" title=\"Check with JSONP\">{span}</Button>\n      }\n      return (\n        <td className={'featureCell '+cellClass}>\n           {link}\n        </td>\n      );\n   }\n}\n","\nimport fetchJsonp from 'fetch-jsonp';\n\nconst addParams = (baseUrl, params) => {\n   let url = new URL(baseUrl);\n   if (params) {\n      Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n   }\n   return url.toString();\n}\n\nexport const fetchJsonpParams = (baseUrl, params) => {\n   return fetchJsonp(addParams(baseUrl, params), {timeout: 20000});\n} \n\nexport const fetchParams = (baseUrl, params) => {\n   return fetch(addParams(baseUrl, params));\n}\n\nexport const jsonTheme = {\n    scheme: 'monokai',\n    author: 'wimer hazenberg (http://www.monokai.nl)',\n    base00: '#000000', // '#272822',\n    base01: '#383830',\n    base02: '#49483e',\n    base03: '#75715e',\n    base04: '#a59f85',\n    base05: '#00ff00', //'#f8f8f2',\n    base06: '#f5f4f1',\n    base07: '#f9f8f5',\n    base08: '#f92672',\n    base09: '#fd971f',\n    base0A: '#f4bf75',\n    base0B: '#a6e22e',\n    base0C: '#a1efe4',\n    base0D: '#66d9ef',\n    base0E: '#ae81ff',\n    base0F: '#cc6633'\n    };\n\n\n","// This file was automatically generated by utils/collect_schemas.sh\n// The schemas are stored in the reconciliation-api/specs repository.\n// If any changes to the schema should be made, please do it there instead!\n// Any local changes will be overridden by the next update.\n\nexport const specVersions = [\n\"0.1\",\n\"latest\",\n];\n\nexport const specSchemas = {\n\"0.1\": {\n\"data-extension-query\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/0.1/schemas/data-extension-query.json\",\n  \"type\": \"object\",\n  \"description\": \"This schema validates a data extension query\",\n  \"properties\": {\n    \"ids\": {\n      \"type\": \"array\",\n      \"description\": \"The list of entity identifiers to fetch property values from\",\n      \"items\": {\n        \"type\": \"string\"\n      }\n    },\n    \"properties\": {\n      \"type\": \"array\",\n      \"description\": \"The list of properties to fetch, with their optional configuration\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\"\n          },\n          \"settings\": {\n            \"type\": \"object\"\n          }\n        },\n        \"required\": [\n          \"id\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"ids\",\n    \"properties\"\n  ]\n}\n,\n\"data-extension-response\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/0.1/schemas/data-extension-response.json\",\n  \"type\": \"object\",\n  \"description\": \"This schema validates a data extension response\",\n  \"properties\": {\n    \"meta\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\"\n          },\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"type\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"id\": {\n                \"type\": \"string\"\n              },\n              \"name\": {\n                \"type\": \"string\"\n              }\n            },\n            \"required\": [\n              \"id\"\n            ]\n          }\n        },\n        \"required\": [\n          \"id\",\n          \"name\"\n        ]\n      }\n    },\n    \"rows\": {\n      \"type\": \"object\",\n      \"patternProperties\": {\n        \".*\": {\n          \"type\": \"object\",\n          \"patternProperties\": {\n            \".*\": {\n              \"type\": \"array\",\n              \"items\": {\n                \"oneOf\": [\n                  {\n                    \"type\": \"object\",\n                    \"additionalProperties\": false\n                  },\n                  {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"id\": {\n                        \"type\": \"string\"\n                      },\n                      \"name\": {\n                        \"type\": \"string\"\n                      }\n                    },\n                    \"required\": [\n                      \"id\",\n                      \"name\"\n                    ],\n                    \"additionalProperties\": false\n                  },\n                  {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"str\": {\n                        \"type\": \"string\"\n                      }\n                    },\n                    \"required\": [\n                      \"str\"\n                    ],\n                    \"additionalProperties\": false\n                  },\n                  {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"float\": {\n                        \"type\": \"number\"\n                      }\n                    },\n                    \"required\": [\n                      \"float\"\n                    ],\n                    \"additionalProperties\": false\n                  },\n                  {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"int\": {\n                        \"type\": \"integer\"\n                      }\n                    },\n                    \"required\": [\n                      \"int\"\n                    ],\n                    \"additionalProperties\": false\n                  },\n                  {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"date\": {\n                        \"type\": \"string\",\n                        \"description\": \"Date and time formatted in ISO format\",\n                        \"pattern\": \"^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\\\.[0-9]+)?(Z|[+-](?:2[0-3]|[01][0-9]):[0-5][0-9])?$\"\n                      }\n                    },\n                    \"required\": [\n                      \"date\"\n                    ],\n                    \"additionalProperties\": false\n                  }\n                ]\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  \"required\": [\n    \"rows\",\n    \"meta\"\n  ]\n}\n,\n\"manifest\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/0.1/schemas/manifest.json\",\n  \"type\": \"object\",\n  \"description\": \"This validates a service manifest, describing the features supported by the endpoint.\",\n  \"properties\": {\n    \"name\": {\n      \"type\": \"string\",\n      \"description\": \"A human-readable name for the service or data source\"\n    },\n    \"identifierSpace\": {\n      \"type\": \"string\",\n      \"description\": \"A URI describing the entity identifiers used in this service\"\n    },\n    \"schemaSpace\": {\n      \"type\": \"string\",\n      \"description\": \"A URI describing the schema used in this service\"\n    },\n    \"view\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"url\": {\n          \"type\": \"string\",\n          \"description\": \"A template to transform an entity identifier into the corresponding URI\",\n          \"pattern\": \".*\\\\{\\\\{id\\\\}\\\\}.*\"\n        }\n      },\n      \"required\": [\n        \"url\"\n      ]\n    },\n    \"defaultTypes\": {\n      \"type\": \"array\",\n      \"description\": \"A list of default types that are considered good generic choices for reconciliation\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\"\n          },\n          \"name\": {\n            \"type\": \"string\"\n          }\n        },\n        \"required\": [\n          \"id\",\n          \"name\"\n        ]\n      },\n      \"uniqueItems\": true\n    },\n    \"suggest\": {\n      \"type\": \"object\",\n      \"description\": \"Settings for the suggest protocol, to auto-complete entities, properties and types\",\n      \"definitions\": {\n        \"service_definition\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"service_url\": {\n              \"type\": \"string\"\n            },\n            \"service_path\": {\n              \"type\": \"string\"\n            },\n            \"flyout_service_url\": {\n              \"type\": \"string\"\n            },\n            \"flyout_service_path\": {\n              \"type\": \"string\",\n              \"pattern\": \".*\\\\$\\\\{id\\\\}.*\"\n            }\n          },\n          \"required\": []\n        }\n      },\n      \"properties\": {\n        \"entity\": {\n          \"$ref\": \"#/properties/suggest/definitions/service_definition\"\n        },\n        \"property\": {\n          \"$ref\": \"#/properties/suggest/definitions/service_definition\"\n        },\n        \"type\": {\n          \"$ref\": \"#/properties/suggest/definitions/service_definition\"\n        }\n      }\n    },\n    \"preview\": {\n      \"type\": \"object\",\n      \"description\": \"Settings for the preview protocol, for HTML previews of entities\",\n      \"properties\": {\n        \"url\": {\n          \"type\": \"string\",\n          \"pattern\": \".*\\\\{\\\\{id\\\\}\\\\}.*\",\n          \"description\": \"A URL pattern which transforms the entity ID into a preview URL for it\"\n        },\n        \"width\": {\n          \"type\": \"integer\",\n          \"description\": \"The width of the iframe where to include the HTML preview\"\n        },\n        \"height\": {\n          \"type\": \"integer\",\n          \"description\": \"The height of the iframe where to include the HTML preview\"\n        }\n      },\n      \"required\": [\n        \"url\",\n        \"width\",\n        \"height\"\n      ]\n    },\n    \"extend\": {\n      \"type\": \"object\",\n      \"description\": \"Settings for the data extension protocol, to fetch property values\",\n      \"properties\": {\n        \"propose_properties\": {\n          \"type\": \"object\",\n          \"description\": \"Location of the endpoint to propose properties to fetch for a given type\",\n          \"properties\": {\n            \"service_url\": {\n              \"type\": \"string\"\n            },\n            \"service_path\": {\n              \"type\": \"string\"\n            }\n          }\n        },\n        \"property_settings\": {\n          \"type\": \"array\",\n          \"description\": \"Definition of the settings configurable by the user when fetching a property\",\n          \"items\": {\n            \"oneOf\": [\n              {\n                \"type\": \"object\",\n                \"description\": \"Defines a numerical setting on a property\",\n                \"properties\": {\n                  \"type\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                      \"number\"\n                    ]\n                  },\n                  \"default\": {\n                    \"type\": \"number\"\n                  },\n                  \"label\": {\n                    \"type\": \"string\"\n                  },\n                  \"name\": {\n                    \"type\": \"string\"\n                  },\n                  \"help_text\": {\n                    \"type\": \"string\"\n                  }\n                },\n                \"required\": [\n                  \"type\",\n                  \"label\",\n                  \"name\"\n                ]\n              },\n              {\n                \"type\": \"object\",\n                \"description\": \"Defines a string setting on a property\",\n                \"properties\": {\n                  \"type\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                      \"text\"\n                    ]\n                  },\n                  \"default\": {\n                    \"type\": \"string\"\n                  },\n                  \"label\": {\n                    \"type\": \"string\"\n                  },\n                  \"name\": {\n                    \"type\": \"string\"\n                  },\n                  \"help_text\": {\n                    \"type\": \"string\"\n                  }\n                },\n                \"required\": [\n                  \"type\",\n                  \"label\",\n                  \"name\"\n                ]\n              },\n              {\n                \"type\": \"object\",\n                \"description\": \"Defines a boolean setting on a property\",\n                \"properties\": {\n                  \"type\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                      \"checkbox\"\n                    ]\n                  },\n                  \"default\": {\n                    \"type\": \"boolean\"\n                  },\n                  \"label\": {\n                    \"type\": \"string\"\n                  },\n                  \"name\": {\n                    \"type\": \"string\"\n                  },\n                  \"help_text\": {\n                    \"type\": \"string\"\n                  }\n                },\n                \"required\": [\n                  \"type\",\n                  \"label\",\n                  \"name\"\n                ]\n              },\n              {\n                \"type\": \"object\",\n                \"description\": \"Defines a setting with a fixed set of choices\",\n                \"properties\": {\n                  \"type\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                      \"select\"\n                    ]\n                  },\n                  \"default\": {\n                    \"type\": \"string\"\n                  },\n                  \"label\": {\n                    \"type\": \"string\"\n                  },\n                  \"name\": {\n                    \"type\": \"string\"\n                  },\n                  \"help_text\": {\n                    \"type\": \"string\"\n                  },\n                  \"choices\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                      \"type\": \"object\",\n                      \"properties\": {\n                        \"value\": {\n                          \"type\": \"string\"\n                        },\n                        \"name\": {\n                          \"type\": \"string\"\n                        }\n                      },\n                      \"required\": [\n                        \"value\",\n                        \"name\"\n                      ]\n                    }\n                  }\n                },\n                \"required\": [\n                  \"type\",\n                  \"label\",\n                  \"name\",\n                  \"choices\"\n                ]\n              }\n            ]\n          }\n        }\n      }\n    }\n  },\n  \"required\": [\n    \"name\",\n    \"identifierSpace\",\n    \"schemaSpace\"\n  ]\n}\n,\n\"reconciliation-query-batch\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/0.1/schemas/reconciliation-query.json\",\n  \"type\": \"object\",\n  \"description\": \"This schema validates the JSON serialization of any reconciliation query batch, i.e. the payload of a GET/POST to a reconciliation endpoint.\",\n  \"definitions\": {\n    \"property_value\": {\n      \"oneOf\": [\n        {\n          \"type\": \"string\"\n        },\n        {\n          \"type\": \"number\"\n        },\n        {\n          \"type\": \"boolean\"\n        },\n        {\n          \"type\": \"object\",\n          \"description\": \"A property value which represents another entity, for instance if it was previously reconciled itself\",\n          \"properties\": {\n            \"id\": {\n              \"type\": \"string\"\n            },\n            \"name\": {\n              \"type\": \"string\"\n            }\n          },\n          \"required\": [\n            \"id\"\n          ]\n        }\n      ]\n    }\n  },\n  \"patternProperties\": {\n    \"^.*$\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"query\": {\n          \"type\": \"string\",\n          \"description\": \"A string to be matched against the name of the entities\"\n        },\n        \"type\": {\n          \"description\": \"Either a single type identifier or a list of type identifiers\",\n          \"oneOf\": [\n            {\n              \"type\": \"string\"\n            },\n            {\n              \"type\": \"array\",\n              \"items\": {\n                \"type\": \"string\"\n              }\n            }\n          ]\n        },\n        \"limit\": {\n          \"type\": \"number\",\n          \"description\": \"The maximum number of candidates to return\"\n        },\n        \"properties\": {\n          \"type\": \"array\",\n          \"description\": \"An optional list of property mappings to refine the query\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"pid\": {\n                \"type\": \"string\",\n                \"description\": \"The identifier of the property, whose values will be compared to the values supplied\"\n              },\n              \"v\": {\n                \"description\": \"A value (or array of values) to match against the property values associated with the property on each candidate\",\n                \"oneOf\": [\n                  {\n                    \"$ref\": \"#/definitions/property_value\"\n                  },\n                  {\n                    \"type\": \"array\",\n                    \"items\": {\n                      \"$ref\": \"#/definitions/property_value\"\n                    }\n                  }\n                ]\n              }\n            },\n            \"required\": [\n              \"pid\",\n              \"v\"\n            ]\n          }\n        },\n        \"type_strict\": {\n          \"type\": \"string\",\n          \"description\": \"A classification of the type matching strategy when multiple types are supplied\",\n          \"enum\": [\n            \"any\",\n            \"should\",\n            \"all\"\n          ]\n        }\n      },\n      \"required\": [\n        \"query\"\n      ],\n      \"additionalProperties\": false\n    }\n  }\n}\n,\n\"reconciliation-result-batch\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/0.1/schemas/reconciliation-result-batch.json\",\n  \"type\": \"object\",\n  \"description\": \"This schema can be used to validate the JSON serialization of any reconciliation result batch.\",\n  \"patternProperties\": {\n    \"^.*$\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"result\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"id\": {\n                \"type\": \"string\",\n                \"description\": \"Entity identifier of the candidate\"\n              },\n              \"name\": {\n                \"type\": \"string\",\n                \"description\": \"Entity name of the candidate\"\n              },\n              \"score\": {\n                \"type\": \"number\",\n                \"description\": \"Number indicating how likely it is that the candidate matches the query\"\n              },\n              \"match\": {\n                \"type\": \"boolean\",\n                \"description\": \"Boolean value indicating whether the candiate is a certain match or not.\"\n              },\n              \"type\": {\n                \"type\": \"array\",\n                \"description\": \"Types the candidate entity belongs to\",\n                \"items\": {\n                  \"oneOf\": [\n                    {\n                      \"type\": \"object\",\n                      \"description\": \"A type can be given by id and name\",\n                      \"properties\": {\n                        \"id\": {\n                          \"type\": \"string\"\n                        },\n                        \"name\": {\n                          \"type\": \"string\"\n                        }\n                      },\n                      \"required\": [\n                        \"id\"\n                      ]\n                    },\n                    {\n                      \"type\": \"string\",\n                      \"description\": \"Alternatively, if only a string is given, it is treated as the id\"\n                    }\n                  ]\n                }\n              }\n            },\n            \"required\": [\n              \"id\",\n              \"name\",\n              \"score\"\n            ]\n          }\n        }\n      },\n      \"required\": [\n        \"result\"\n      ]\n    }\n  }\n}\n,\n\"suggest-entities-response\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/0.1/schemas/suggest-entities-response.json\",\n  \"type\": \"object\",\n  \"description\": \"This schema can be used to validate the JSON response of a suggest service for entities.\",\n  \"properties\": {\n    \"result\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"description\": \"Identifier of the suggested entity\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the suggested entity\"\n          },\n          \"description\": {\n            \"type\": \"string\",\n            \"description\": \"An optional description which can be provided to disambiguate namesakes, providing more context.\"\n          },\n          \"notable\": {\n            \"type\": \"array\",\n            \"description\": \"Types the suggest entity belongs to\",\n            \"items\": {\n              \"oneOf\": [\n                {\n                  \"type\": \"object\",\n                  \"description\": \"A type can be given by id and name\",\n                  \"properties\": {\n                    \"id\": {\n                      \"type\": \"string\"\n                    },\n                    \"name\": {\n                      \"type\": \"string\"\n                    }\n                  },\n                  \"required\": [\n                    \"id\"\n                  ]\n                },\n                {\n                  \"type\": \"string\",\n                  \"description\": \"Alternatively, if only a string is given, it is treated as the id\"\n                }\n              ]\n            }\n          }\n        },\n        \"required\": [\n          \"id\",\n          \"name\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"result\"\n  ]\n}\n,\n\"suggest-properties-response\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/0.1/schemas/suggest-properties-response.json\",\n  \"type\": \"object\",\n  \"description\": \"This schema can be used to validate the JSON response of a suggest service for properties.\",\n  \"properties\": {\n    \"result\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"description\": \"Identifier of the suggested property\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the suggested property\"\n          },\n          \"description\": {\n            \"type\": \"string\",\n            \"description\": \"An optional description which can be provided to disambiguate namesakes, providing more context.\"\n          }\n        },\n        \"required\": [\n          \"id\",\n          \"name\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"result\"\n  ]\n}\n,\n\"suggest-types-response\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/0.1/schemas/suggest-types-response.json\",\n  \"type\": \"object\",\n  \"description\": \"This schema can be used to validate the JSON response of a suggest service for types.\",\n  \"properties\": {\n    \"result\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"description\": \"Identifier of the suggested type\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the suggested type\"\n          },\n          \"description\": {\n            \"type\": \"string\",\n            \"description\": \"An optional description which can be provided to disambiguate namesakes, providing more context.\"\n          }\n        },\n        \"required\": [\n          \"id\",\n          \"name\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"result\"\n  ]\n}\n,\n},\n\"latest\": {\n\"data-extension-query\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/latest/schemas/data-extension-query.json\",\n  \"type\": \"object\",\n  \"description\": \"This schema validates a data extension query\",\n  \"properties\": {\n    \"ids\": {\n      \"type\": \"array\",\n      \"description\": \"The list of entity identifiers to fetch property values from\",\n      \"items\": {\n        \"type\": \"string\"\n      }\n    },\n    \"properties\": {\n      \"type\": \"array\",\n      \"description\": \"The list of properties to fetch, with their optional configuration\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\"\n          },\n          \"settings\": {\n            \"type\": \"object\"\n          }\n        },\n        \"required\": [\n          \"id\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"ids\",\n    \"properties\"\n  ]\n}\n,\n\"data-extension-response\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/latest/schemas/data-extension-response.json\",\n  \"type\": \"object\",\n  \"description\": \"This schema validates a data extension response\",\n  \"properties\": {\n    \"meta\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\"\n          },\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"type\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"id\": {\n                \"type\": \"string\"\n              },\n              \"name\": {\n                \"type\": \"string\"\n              }\n            },\n            \"required\": [\n              \"id\"\n            ]\n          }\n        },\n        \"required\": [\n          \"id\",\n          \"name\"\n        ]\n      }\n    },\n    \"rows\": {\n      \"type\": \"object\",\n      \"patternProperties\": {\n        \".*\": {\n          \"type\": \"object\",\n          \"patternProperties\": {\n            \".*\": {\n              \"type\": \"array\",\n              \"items\": {\n                \"oneOf\": [\n                  {\n                    \"type\": \"object\",\n                    \"additionalProperties\": false\n                  },\n                  {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"id\": {\n                        \"type\": \"string\"\n                      },\n                      \"name\": {\n                        \"type\": \"string\"\n                      },\n                      \"description\": {\n                        \"type\": \"string\"\n                      }\n                    },\n                    \"required\": [\n                      \"id\",\n                      \"name\"\n                    ],\n                    \"additionalProperties\": false\n                  },\n                  {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"str\": {\n                        \"type\": \"string\"\n                      }\n                    },\n                    \"required\": [\n                      \"str\"\n                    ],\n                    \"additionalProperties\": false\n                  },\n                  {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"float\": {\n                        \"type\": \"number\"\n                      }\n                    },\n                    \"required\": [\n                      \"float\"\n                    ],\n                    \"additionalProperties\": false\n                  },\n                  {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"int\": {\n                        \"type\": \"integer\"\n                      }\n                    },\n                    \"required\": [\n                      \"int\"\n                    ],\n                    \"additionalProperties\": false\n                  },\n                  {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"date\": {\n                        \"type\": \"string\",\n                        \"description\": \"Date and time formatted in ISO format\",\n                        \"pattern\": \"^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\\\.[0-9]+)?(Z|[+-](?:2[0-3]|[01][0-9]):[0-5][0-9])?$\"\n                      }\n                    },\n                    \"required\": [\n                      \"date\"\n                    ],\n                    \"additionalProperties\": false\n                  }\n                ]\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  \"required\": [\n    \"rows\",\n    \"meta\"\n  ]\n}\n,\n\"manifest\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/latest/schemas/manifest.json\",\n  \"type\": \"object\",\n  \"description\": \"This validates a service manifest, describing the features supported by the endpoint.\",\n  \"properties\": {\n    \"versions\": {\n      \"type\": \"array\",\n      \"description\": \"The list of API versions supported by this service.\",\n      \"items\": {\n        \"type\": \"string\"\n      },\n      \"contains\": {\n        \"enum\": [\"0.2\"]\n      }\n    },\n    \"name\": {\n      \"type\": \"string\",\n      \"description\": \"A human-readable name for the service or data source\"\n    },\n    \"identifierSpace\": {\n      \"type\": \"string\",\n      \"description\": \"A URI describing the entity identifiers used in this service\"\n    },\n    \"schemaSpace\": {\n      \"type\": \"string\",\n      \"description\": \"A URI describing the schema used in this service\"\n    },\n    \"view\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"url\": {\n          \"type\": \"string\",\n          \"description\": \"A template to transform an entity identifier into the corresponding URI\",\n          \"pattern\": \".*\\\\{\\\\{id\\\\}\\\\}.*\"\n        }\n      },\n      \"required\": [\n        \"url\"\n      ]\n    },\n    \"feature_view\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"url\": {\n          \"type\": \"string\",\n          \"description\": \"A template to transform a matching feature identifier into the corresponding URI\",\n          \"pattern\": \".*\\\\{\\\\{id\\\\}\\\\}.*\"\n        }\n      },\n      \"required\": [\n        \"url\"\n      ]\n    },\n    \"defaultTypes\": {\n      \"type\": \"array\",\n      \"description\": \"A list of default types that are considered good generic choices for reconciliation\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\"\n          },\n          \"name\": {\n            \"type\": \"string\"\n          }\n        },\n        \"required\": [\n          \"id\",\n          \"name\"\n        ]\n      },\n      \"uniqueItems\": true\n    },\n    \"suggest\": {\n      \"type\": \"object\",\n      \"description\": \"Settings for the suggest protocol, to auto-complete entities, properties and types\",\n      \"definitions\": {\n        \"service_definition\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"service_url\": {\n              \"type\": \"string\"\n            },\n            \"service_path\": {\n              \"type\": \"string\"\n            },\n            \"flyout_service_url\": {\n              \"type\": \"string\"\n            },\n            \"flyout_service_path\": {\n              \"type\": \"string\",\n              \"pattern\": \".*\\\\$\\\\{id\\\\}.*\"\n            }\n          },\n          \"required\": []\n        }\n      },\n      \"properties\": {\n        \"entity\": {\n          \"$ref\": \"#/properties/suggest/definitions/service_definition\"\n        },\n        \"property\": {\n          \"$ref\": \"#/properties/suggest/definitions/service_definition\"\n        },\n        \"type\": {\n          \"$ref\": \"#/properties/suggest/definitions/service_definition\"\n        }\n      }\n    },\n    \"preview\": {\n      \"type\": \"object\",\n      \"description\": \"Settings for the preview protocol, for HTML previews of entities\",\n      \"properties\": {\n        \"url\": {\n          \"type\": \"string\",\n          \"pattern\": \".*\\\\{\\\\{id\\\\}\\\\}.*\",\n          \"description\": \"A URL pattern which transforms the entity ID into a preview URL for it\"\n        },\n        \"width\": {\n          \"type\": \"integer\",\n          \"description\": \"The width of the iframe where to include the HTML preview\"\n        },\n        \"height\": {\n          \"type\": \"integer\",\n          \"description\": \"The height of the iframe where to include the HTML preview\"\n        }\n      },\n      \"required\": [\n        \"url\",\n        \"width\",\n        \"height\"\n      ]\n    },\n    \"extend\": {\n      \"type\": \"object\",\n      \"description\": \"Settings for the data extension protocol, to fetch property values\",\n      \"properties\": {\n        \"propose_properties\": {\n          \"type\": \"object\",\n          \"description\": \"Location of the endpoint to propose properties to fetch for a given type\",\n          \"properties\": {\n            \"service_url\": {\n              \"type\": \"string\"\n            },\n            \"service_path\": {\n              \"type\": \"string\"\n            }\n          }\n        },\n        \"property_settings\": {\n          \"type\": \"array\",\n          \"description\": \"Definition of the settings configurable by the user when fetching a property\",\n          \"items\": {\n            \"oneOf\": [\n              {\n                \"type\": \"object\",\n                \"description\": \"Defines a numerical setting on a property\",\n                \"properties\": {\n                  \"type\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                      \"number\"\n                    ]\n                  },\n                  \"default\": {\n                    \"type\": \"number\"\n                  },\n                  \"label\": {\n                    \"type\": \"string\"\n                  },\n                  \"name\": {\n                    \"type\": \"string\"\n                  },\n                  \"help_text\": {\n                    \"type\": \"string\"\n                  }\n                },\n                \"required\": [\n                  \"type\",\n                  \"label\",\n                  \"name\"\n                ]\n              },\n              {\n                \"type\": \"object\",\n                \"description\": \"Defines a string setting on a property\",\n                \"properties\": {\n                  \"type\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                      \"text\"\n                    ]\n                  },\n                  \"default\": {\n                    \"type\": \"string\"\n                  },\n                  \"label\": {\n                    \"type\": \"string\"\n                  },\n                  \"name\": {\n                    \"type\": \"string\"\n                  },\n                  \"help_text\": {\n                    \"type\": \"string\"\n                  }\n                },\n                \"required\": [\n                  \"type\",\n                  \"label\",\n                  \"name\"\n                ]\n              },\n              {\n                \"type\": \"object\",\n                \"description\": \"Defines a boolean setting on a property\",\n                \"properties\": {\n                  \"type\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                      \"checkbox\"\n                    ]\n                  },\n                  \"default\": {\n                    \"type\": \"boolean\"\n                  },\n                  \"label\": {\n                    \"type\": \"string\"\n                  },\n                  \"name\": {\n                    \"type\": \"string\"\n                  },\n                  \"help_text\": {\n                    \"type\": \"string\"\n                  }\n                },\n                \"required\": [\n                  \"type\",\n                  \"label\",\n                  \"name\"\n                ]\n              },\n              {\n                \"type\": \"object\",\n                \"description\": \"Defines a setting with a fixed set of choices\",\n                \"properties\": {\n                  \"type\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                      \"select\"\n                    ]\n                  },\n                  \"default\": {\n                    \"type\": \"string\"\n                  },\n                  \"label\": {\n                    \"type\": \"string\"\n                  },\n                  \"name\": {\n                    \"type\": \"string\"\n                  },\n                  \"help_text\": {\n                    \"type\": \"string\"\n                  },\n                  \"choices\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                      \"type\": \"object\",\n                      \"properties\": {\n                        \"value\": {\n                          \"type\": \"string\"\n                        },\n                        \"name\": {\n                          \"type\": \"string\"\n                        }\n                      },\n                      \"required\": [\n                        \"value\",\n                        \"name\"\n                      ]\n                    }\n                  }\n                },\n                \"required\": [\n                  \"type\",\n                  \"label\",\n                  \"name\",\n                  \"choices\"\n                ]\n              }\n            ]\n          }\n        }\n      }\n    },\n    \"serverLimits\": {\n      \"type\": \"object\",\n      \"description\": \"Resource constraints imposed by the service on clients\",\n      \"properties\": {\n\t\"batchRate\": {\n          \"type\": \"integer\",\n          \"description\": \"The number of reconciliation query batch requests which can safely be sent to this service per second per IP address.\"\n\t},\n\t\"maxConnections\": {\n          \"type\": \"integer\",\n          \"description\": \"The number of TCP connections which can be concurrently kept open from a single IP address.\"\n\t}\n      }\n    }\n  },\n  \"required\": [\n    \"versions\",\n    \"name\",\n    \"identifierSpace\",\n    \"schemaSpace\"\n  ]\n}\n,\n\"reconciliation-query-batch\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/latest/schemas/reconciliation-query.json\",\n  \"type\": \"object\",\n  \"description\": \"This schema validates the JSON serialization of any reconciliation query batch, i.e. the payload of a GET/POST to a reconciliation endpoint.\",\n  \"definitions\": {\n    \"property_value\": {\n      \"oneOf\": [\n        {\n          \"type\": \"string\"\n        },\n        {\n          \"type\": \"number\"\n        },\n        {\n          \"type\": \"boolean\"\n        },\n        {\n          \"type\": \"object\",\n          \"description\": \"A property value which represents another entity, for instance if it was previously reconciled itself\",\n          \"properties\": {\n            \"id\": {\n              \"type\": \"string\"\n            },\n            \"name\": {\n              \"type\": \"string\"\n            }\n          },\n          \"required\": [\n            \"id\"\n          ]\n        }\n      ]\n    }\n  },\n  \"patternProperties\": {\n    \"^.*$\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"query\": {\n          \"type\": \"string\",\n          \"description\": \"A string to be matched against the name of the entities\"\n        },\n        \"type\": {\n          \"description\": \"Either a single type identifier or a list of type identifiers\",\n          \"oneOf\": [\n            {\n              \"type\": \"string\"\n            },\n            {\n              \"type\": \"array\",\n              \"items\": {\n                \"type\": \"string\"\n              }\n            }\n          ]\n        },\n        \"limit\": {\n          \"type\": \"number\",\n          \"description\": \"The maximum number of candidates to return\"\n        },\n        \"properties\": {\n          \"type\": \"array\",\n          \"description\": \"An optional list of property mappings to refine the query\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"pid\": {\n                \"type\": \"string\",\n                \"description\": \"The identifier of the property, whose values will be compared to the values supplied\"\n              },\n              \"v\": {\n                \"description\": \"A value (or array of values) to match against the property values associated with the property on each candidate\",\n                \"oneOf\": [\n                  {\n                    \"$ref\": \"#/definitions/property_value\"\n                  },\n                  {\n                    \"type\": \"array\",\n                    \"items\": {\n                      \"$ref\": \"#/definitions/property_value\"\n                    }\n                  }\n                ]\n              }\n            },\n            \"required\": [\n              \"pid\",\n              \"v\"\n            ]\n          }\n        },\n        \"type_strict\": {\n          \"type\": \"string\",\n          \"description\": \"A classification of the type matching strategy when multiple types are supplied\",\n          \"enum\": [\n            \"any\",\n            \"should\",\n            \"all\"\n          ]\n        }\n      },\n      \"required\": [\n        \"query\"\n      ],\n      \"additionalProperties\": false\n    }\n  }\n}\n,\n\"reconciliation-result-batch\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/latest/schemas/reconciliation-result-batch.json\",\n  \"type\": \"object\",\n  \"description\": \"This schema can be used to validate the JSON serialization of any reconciliation result batch.\",\n  \"patternProperties\": {\n    \"^.*$\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"result\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"id\": {\n                \"type\": \"string\",\n                \"description\": \"Entity identifier of the candidate\"\n              },\n              \"name\": {\n                \"type\": \"string\",\n                \"description\": \"Entity name of the candidate\"\n              },\n              \"description\": {\n                \"type\": \"string\",\n                \"description\": \"Optional description of the candidate entity\"\n              },\n              \"score\": {\n                \"type\": \"number\",\n                \"description\": \"Number indicating how likely it is that the candidate matches the query\"\n              },\n              \"features\": {\n                \"type\": \"array\",\n                \"description\": \"A list of features which can be used to derive a matching score\",\n                \"items\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"id\": {\n                      \"type\": \"string\",\n                      \"description\": \"A unique string identifier for the feature\"\n                    },\n                    \"value\": {\n                      \"description\": \"The value of the feature for this reconciliation candidate\",\n                      \"oneOf\": [\n                        {\n                          \"type\": \"boolean\"\n                        },\n                        {\n                          \"type\": \"number\"\n                        }\n                      ]\n                    }\n                  }\n                }\n              },\n              \"match\": {\n                \"type\": \"boolean\",\n                \"description\": \"Boolean value indicating whether the candiate is a certain match or not.\"\n              },\n              \"type\": {\n                \"type\": \"array\",\n                \"description\": \"Types the candidate entity belongs to\",\n                \"items\": {\n                  \"oneOf\": [\n                    {\n                      \"type\": \"object\",\n                      \"description\": \"A type can be given by id and name\",\n                      \"properties\": {\n                        \"id\": {\n                          \"type\": \"string\"\n                        },\n                        \"name\": {\n                          \"type\": \"string\"\n                        }\n                      },\n                      \"required\": [\n                        \"id\"\n                      ]\n                    },\n                    {\n                      \"type\": \"string\",\n                      \"description\": \"Alternatively, if only a string is given, it is treated as the id\"\n                    }\n                  ]\n                }\n              }\n            },\n            \"required\": [\n              \"id\",\n              \"name\",\n              \"score\"\n            ]\n          }\n        }\n      },\n      \"required\": [\n        \"result\"\n      ]\n    }\n  }\n}\n,\n\"suggest-entities-response\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/latest/schemas/suggest-entities-response.json\",\n  \"type\": \"object\",\n  \"description\": \"This schema can be used to validate the JSON response of a suggest service for entities.\",\n  \"properties\": {\n    \"result\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"description\": \"Identifier of the suggested entity\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the suggested entity\"\n          },\n          \"description\": {\n            \"type\": \"string\",\n            \"description\": \"An optional description which can be provided to disambiguate namesakes, providing more context.\"\n          },\n          \"notable\": {\n            \"type\": \"array\",\n            \"description\": \"Types the suggest entity belongs to\",\n            \"items\": {\n              \"oneOf\": [\n                {\n                  \"type\": \"object\",\n                  \"description\": \"A type can be given by id and name\",\n                  \"properties\": {\n                    \"id\": {\n                      \"type\": \"string\"\n                    },\n                    \"name\": {\n                      \"type\": \"string\"\n                    }\n                  },\n                  \"required\": [\n                    \"id\"\n                  ]\n                },\n                {\n                  \"type\": \"string\",\n                  \"description\": \"Alternatively, if only a string is given, it is treated as the id\"\n                }\n              ]\n            }\n          }\n        },\n        \"required\": [\n          \"id\",\n          \"name\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"result\"\n  ]\n}\n,\n\"suggest-properties-response\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/latest/schemas/suggest-properties-response.json\",\n  \"type\": \"object\",\n  \"description\": \"This schema can be used to validate the JSON response of a suggest service for properties.\",\n  \"properties\": {\n    \"result\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"description\": \"Identifier of the suggested property\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the suggested property\"\n          },\n          \"description\": {\n            \"type\": \"string\",\n            \"description\": \"An optional description which can be provided to disambiguate namesakes, providing more context.\"\n          }\n        },\n        \"required\": [\n          \"id\",\n          \"name\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"result\"\n  ]\n}\n,\n\"suggest-types-response\":\n{\n  \"$schema\": \"http://json-schema.org/schema#\",\n  \"$id\": \"https://reconciliation-api.github.io/specs/latest/schemas/suggest-types-response.json\",\n  \"type\": \"object\",\n  \"description\": \"This schema can be used to validate the JSON response of a suggest service for types.\",\n  \"properties\": {\n    \"result\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"description\": \"Identifier of the suggested type\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of the suggested type\"\n          },\n          \"description\": {\n            \"type\": \"string\",\n            \"description\": \"An optional description which can be provided to disambiguate namesakes, providing more context.\"\n          }\n        },\n        \"required\": [\n          \"id\",\n          \"name\"\n        ]\n      }\n    }\n  },\n  \"required\": [\n    \"result\"\n  ]\n}\n,\n},\n};\n","\nimport { fetchJsonpParams, fetchParams } from './utils.js';\nimport { specVersions } from './JsonSchemas.js';\nimport { getSchema } from './JsonValidator.js';\n\nexport default class ReconciliationService {\n    constructor(endpoint, manifest, cors) {\n       this.endpoint = endpoint;\n       this.manifest = manifest;\n       this.cors = cors;\n\n       // test the service's manifest against manifest schemas\n       // for all known versions of the specs, in order.\n       this.latestCompatibleVersion = null;\n       for (var version of specVersions) {\n\t   let schema = getSchema(version, 'manifest');\n\t   let valid = schema(manifest);\n\t   if (valid) {\n\t\tthis.latestCompatibleVersion = version;\n           }\n       }\n    }\n\n    getFetcher() {\n       return this.cors ? fetchParams : fetchJsonpParams;\n    }\n}\n\n\n","\nimport React from 'react';\nimport Button from 'react-bootstrap/lib/Button';\nimport FeatureCell from './FeatureCell.js';\nimport fetchJsonp from 'fetch-jsonp';\nimport ReconciliationService from './ReconciliationService.js';\n\nexport default class FeatureRow extends React.Component {\n   constructor() {\n      super();\n      this.state = {\n        reacheableCORS: 'checking',\n        reacheableJSONP: 'maybe',\n        manifest: {},\n      }; \n   }\n\n   componentDidMount() {\n      fetch(this.props.endpoint, { timeout: 5000 })\n        .then(response => response.json())\n        .then(response => this.setState({manifest: response, reacheableCORS: true}))\n        .catch(error => {\n           this.setState({reacheableCORS: false});\n      });\n      if (this.props.jsonp) {\n        this.checkJsonp();\n      }\n   }\n\n   checkJsonp = () => {\n      this.setState({reacheableJSONP: 'checking'});\n      fetchJsonp(this.props.endpoint)\n        .then(response => response.json())\n        .then(response => this.setState({manifest: response, reacheableJSONP: true}))\n        .catch(error => this.setState({reacheableJSONP: false}));\n   }\n\n   suggestSettings() {\n      return this.state.manifest.suggest || {};\n   }\n\n   get isReacheable() {\n      return this.state.reacheableCORS === true || this.state.reacheableJSONP === true;\n   }\n   \n   hasView() {\n      if (!this.isReacheable)\n        return null;\n      return 'url' in (this.state.manifest.view || {});\n   }\n\n   hasSuggestEntity() {\n      if (!this.isReacheable)\n        return null;\n      return 'entity' in this.suggestSettings();\n   }\n\n   hasSuggestProperty() {\n      if (!this.isReacheable)\n        return null;\n      return 'property' in this.suggestSettings();\n   }\n\n   hasSuggestType() {\n      if (!this.isReacheable)\n        return null;\n      return 'type' in this.suggestSettings();\n   }\n\n   hasPreview() {\n      if (!this.isReacheable)\n        return null;\n      return 'preview' in this.state.manifest;\n   }\n\n   hasExtend() {\n      if (!this.isReacheable)\n        return null;\n      return 'extend' in this.state.manifest;\n   }\n\n   reconciliationService() {\n      return new ReconciliationService(this.props.endpoint, this.state.manifest, this.state.reacheableCORS);\n   }\n\n   nameCell() {\n      let parts = [\n        <span key='name'>{this.props.name}</span>\n      ];\n      if (this.props.documentation && !this.props.source_url) {\n         parts.push(<span key='docs'> (<a href={this.props.documentation} target=\"_blank\" rel=\"noopener noreferrer\" title=\"Read endpoint documentation\">docs</a>)</span>);\n      }\n      if (this.props.documentation && this.props.source_url) {\n         parts.push(<span key='docs'> (<a href={this.props.documentation} target=\"_blank\" rel=\"noopener noreferrer\" title=\"Read endpoint documentation\">docs</a>, <a href={this.props.source_url} target=\"_blank\" rel=\"noopener noreferrer\" title=\"View endpoint source code\">source</a>)</span>);\n      }\n      if (!this.props.documentation && this.props.source_url) {\n         parts.push(<span key='docs'> (<a href={this.props.source_url} target=\"_blank\" rel=\"noopener noreferrer\" title=\"View endpoint source code\">source</a>)</span>);\n      }\n      if (this.props.wd_uri) {\n         parts.push(<span key=\"wd\" style={{float: 'right'}}>\n           <a href={this.props.wd_uri+'#P6269'} target=\"_blank\" rel=\"noopener noreferrer\" title=\"Edit on Wikidata\">\n            <span className=\"glyphicon glyphicon-pencil\"></span>\n           </a>\n        </span>);\n      }\n      return parts;\n   }\n\n   triggerOnSelect = () => {\n      if (this.props.onSelect) {\n        this.props.onSelect(this.reconciliationService());\n      }\n   }\n\n   render() {\n      return (\n        <tr>\n            <td>{this.nameCell()}</td>\n            <td><Button bsStyle=\"primary\" bsSize=\"xsmall\" onClick={this.triggerOnSelect} title=\"Use in test bench\" disabled={!this.isReacheable}><span className=\"glyphicon glyphicon-play\"></span></Button>{' '}<a href={this.props.endpoint} target=\"_blank\" rel=\"noopener noreferrer\">{this.props.endpoint}</a></td>\n\t    <td className={'featureCell'}>{this.reconciliationService().latestCompatibleVersion || '?'}</td>\n            <FeatureCell value={this.state.reacheableCORS} />\n            <FeatureCell value={this.state.reacheableJSONP} onClick={this.checkJsonp} />\n            <FeatureCell value={this.hasView()} />\n            <FeatureCell value={this.hasSuggestEntity()} />\n            <FeatureCell value={this.hasSuggestType()} />\n            <FeatureCell value={this.hasSuggestProperty()} />\n            <FeatureCell value={this.hasPreview()} />\n            <FeatureCell value={this.hasExtend()} />\n        </tr>);\n   }\n}\n\n","import React from 'react';\nimport Table from 'react-bootstrap/lib/Table';\nimport Modal from 'react-bootstrap/lib/Modal';\nimport Button from 'react-bootstrap/lib/Button';\nimport FeatureRow from './FeatureRow.js';\n\nclass Row {\n    constructor(endpoint, name, documentation, source_url, wd_uri) {\n       this.endpoint = endpoint;\n       this.name = name;\n       this.documentation = documentation;\n       this.source_url = source_url;\n       this.wd_uri = wd_uri;\n       this.jsonp = false;\n    }\n\n    useJsonp() {\n       this.jsonp = true;\n    }\n}\n\n\nexport default class FeatureTable extends React.Component {\n    constructor() {\n      super();\n       this.state = {\n         services: [],\n         showAddServiceDialog: false,\n         refreshing: false,\n       };\n\n       this.sparql_query = (\n        \"SELECT ?service ?serviceLabel ?endpoint ?documentation ?source WHERE {\\n\" +\n        \"  ?service p:P6269 ?statement.\\n\"+\n        \"  ?statement ps:P6269 ?endpoint ;\\n\"+\n        \"     pq:P2700 wd:Q64490175.\\n\"+\n        \"  OPTIONAL { ?statement (pq:P973 | pq:P2078) ?documentation }\\n\" +\n        \"  OPTIONAL { ?statement pq:P1324 ?source }\\n\" +\n        \"  FILTER NOT EXISTS { ?statement wikibase:rank wikibase:DeprecatedRank }\\n\" +\n        \"  SERVICE wikibase:label { bd:serviceParam wikibase:language \\\"[AUTO_LANGUAGE],en\\\". }\\n\" +\n        \"}\\n\" +\n        \"ORDER BY DESC(?endpoint)\\n\");\n    }\n\n    refreshServicesFromWD = (method) => {\n       this.setState({\n         refreshing: true\n       });\n       let url = new URL(\"https://query.wikidata.org/sparql\");\n       let params = {query:this.sparql_query, format: 'json'};\n       let promise = null;\n       if (method === 'GET') {\n         Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n         promise = fetch(url);\n       } else {\n         var urlParams = new URLSearchParams();\n         Object.keys(params).forEach(key => urlParams.append(key, params[key]));\n         promise = fetch(url, {\n           method: 'POST',\n           mode: 'cors',\n           cache: 'no-cache',\n           headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n           body: urlParams,\n         });\n       }\n\n       promise\n        .then(result => result.json())\n        .then(result =>\n            this.setState({\n              services: result.results.bindings.map(entry =>\n                new Row(entry.endpoint.value, entry.serviceLabel.value,\n                    'documentation' in entry ? entry.documentation.value : undefined,\n                    'source' in entry ? entry.source.value : undefined,\n                    entry.service.value)),\n              refreshing: false\n           })\n        )\n        .catch(error => {\n           console.log(error);\n           this.setState({ refreshing: false });\n        });\n    }\n\n    componentDidMount() {\n       this.refreshServicesFromWD('GET');\n    }\n\n    loadAllJsonp = () => {\n       this.setState({\n        services: this.state.services.map(row => { row.useJsonp(); return row })\n       });\n    }\n\n    openAddServiceDialog = () => {\n        this.setState({\n           showAddServiceDialog: true\n        });\n    }\n\n    closeAddServiceDialog = () => {\n        this.setState({\n           showAddServiceDialog: false\n        });\n    }\n\n    get sparqlQueryUrl() {\n        return 'https://query.wikidata.org/#'+encodeURIComponent(this.sparql_query);\n    }\n\n    render() {\n      return (\n        <>\n          <p>Due to <a href=\"https://en.wikipedia.org/wiki/JSONP#Security_concerns\">a security risk inherent to JSONP</a>, only endpoints supporting <a href=\"https://en.wikipedia.org/wiki/Cross-origin_resource_sharing\">CORS</a> are loaded by default. You can click the{' '}\n          <span className=\"glyphicon glyphicon-search\"></span> button in each row to attempt to load the service via <a href=\"https://en.wikipedia.org/wiki/JSONP\">JSONP</a>.\n          Note that a malicious endpoint could use JSONP to execute arbitrary JavaScript code in this page. If you trust all the reconciliation services listed here, you can also <Button onClick={this.loadAllJsonp} bsSize=\"xsmall\">load all endpoints via JSONP</Button>.\n          </p>\n        <Table striped bordered hover>\n           <thead>\n             <tr>\n               <td>Name</td>\n               <td>Endpoint</td>\n\t       <td>API version</td>\n               <td>CORS</td>\n               <td>JSONP</td>\n               <td>View entities</td>\n               <td>Suggest entities</td>\n               <td>Suggest types</td>\n               <td>Suggest properties</td>\n               <td>Preview entities</td>\n               <td>Extend data</td>\n             </tr>\n           </thead>\n           <tbody>\n              {this.state.services.map(\n                row => <FeatureRow\n                        endpoint={row.endpoint}\n                        name={row.name}\n                        documentation={row.documentation}\n                        source_url={row.source_url}\n                        wd_uri={row.wd_uri}\n                        jsonp={row.jsonp}\n                        onSelect={this.props.onSelect}\n                        key={row.wd_uri+' '+row.endpoint+(row.jsonp ? ' jsonp' : ' cors')} />)\n               }\n           </tbody>\n        </Table>\n        <Button onClick={this.openAddServiceDialog}><span className=\"glyphicon glyphicon-plus\"></span> Add a service</Button>&nbsp;&nbsp;&nbsp;\n        <Button onClick={() => this.refreshServicesFromWD('POST')} disabled={this.state.refreshing}><span className=\"glyphicon glyphicon-refresh\"></span> {this.state.refreshing ? 'Refreshing…' : 'Refresh table'}</Button>\n\n        <Modal show={this.state.showAddServiceDialog} onHide={this.closeAddServiceDialog}>\n          <Modal.Header closeButton>\n            <Modal.Title>How to add a service to this list</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <p>\n               This list is generated by <a href={this.sparqlQueryUrl}>a SPARQL query on Wikidata</a>.\n               To add your service to it, follow these steps:\n            </p>\n            <ul>\n                <li>Make sure your service is publicly accessible - local endpoints (such as those with <code>localhost</code> or <code>127.0.0.1</code> in their address) should not be added to this table.</li>\n                <li>Find out if there is already a Wikidata item about your service, your database or your identifier. You can use <a href=\"https://www.wikidata.org/wiki/Special:Search?ns0=1\">Wikidata's search interface</a> for that. If there is not, you can <a href=\"https://www.wikidata.org/wiki/Special:NewItem\">create a new one</a>.</li>\n                <li>Add a statement on that item, using the <a href=\"https://www.wikidata.org/wiki/Property:P6269\">API endpoint (P6269)</a> property, adding the <a href=\"https://www.wikidata.org/wiki/Q64490175\">OpenRefine reconciliation service API (Q64490175)</a> as <a href=\"https://www.wikidata.org/wiki/Property:P2700\">protocol (P2700)</a> in a qualifier. You can also add a link to the documentation for the endpoint by adding a <a href=\"https://www.wikidata.org/wiki/Property:P2078\">user manual link (P2078)</a> or <a href=\"https://www.wikidata.org/wiki/Property:P973\">described at URL (P973)</a> qualifier. See <a href=\"https://www.wikidata.org/wiki/Q922063#P6269\">this example for how it is done</a>.</li>\n                <li>Refresh this table - it might take a few minutes before your service appears in the table.</li>\n            </ul>\n          </Modal.Body>\n        </Modal>\n        </>\n      );\n   }\n}\n","import React from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\n\nexport default function TabLink({ to, title, exact }) {\n     const isActive = useRouteMatch({path: to, exact: exact});\n     const className = isActive ? 'active' : '';\n\n     return (\n        <li role=\"presentation\" className={className}>\n            <Link to={to}>\n                {title}\n            </Link>\n        </li>);\n}\n\n","\nimport React from 'react';\nimport Form from 'react-bootstrap/lib/Form';\nimport FormGroup from 'react-bootstrap/lib/FormGroup';\nimport FormControl from 'react-bootstrap/lib/FormControl';\nimport ControlLabel from 'react-bootstrap/lib/ControlLabel';\nimport HelpBlock from 'react-bootstrap/lib/HelpBlock';\nimport Col from 'react-bootstrap/lib/Col';\nimport fetchJsonp from 'fetch-jsonp';\nimport ReconciliationService from './ReconciliationService.js';\n\nexport default class ReconciliationServiceInput extends React.Component {\n\n  state = {\n    service: this.props.initialService\n  };\n\n  componentWillMount() {\n     this.timer = null;\n  }\n\n  componentDidMount() {\n    console.log('hey do we need to validate');\n    console.log(this.props.initialService);\n    if (this.props.initialService.endpoint && !this.props.initialService.manifest) {\n      console.log('validating endpoint at start');\n      this.validateEndpoint();\n    }\n  }\n\n  setService(service) {\n     this.setState({\n\tservice: service\n     });\n  }\n\n  handleChange(e) {\n     clearTimeout(this.timer);\n\n     this.setState({\n\tservice: new ReconciliationService(e.target.value, undefined, undefined),\n        error: undefined\n     });\n \n     this.timer = setTimeout(() => this.validateEndpoint(), 1000);\n  }\n\n  validateEndpoint() {\n     let endpoint = this.state.service.endpoint;\n     fetch(endpoint)\n      .then(result => result.json())\n      .then(result => this._setService(endpoint, result, true))\n      .catch(e =>\n\t     fetchJsonp(endpoint)\n\t      .then(result => result.json())\n\t      .then(result => this._setService(endpoint, result, false))\n\t      .catch(e => this._setError(endpoint, e)));\n  }\n\n  _setService(endpoint, manifest, cors) {\n    if(this.state.service.endpoint === endpoint) {\n\tlet service = new ReconciliationService(endpoint, manifest, cors);\n        this.setState({\n\t  service: service \n        });\n        if(this.props.onChange !== undefined) {\n           this.props.onChange(service);\n        }\n    }\n  }\n\n  _setError(endpoint, error) {\n    if(this.state.service.endpoint === endpoint) {\n        this.setState({manifest: undefined, error: error})\n        if(this.props.onChange !== undefined) {\n           this.props.onChange(undefined, undefined);\n        }\n    }\n  }\n  \n  getValidationState() {\n     if (this.state.service !== undefined && this.state.service.manifest !== undefined) {\n        return 'success';\n     } else if(this.state.error !== undefined) {\n        return 'error';\n     }\n     return null;\n  }\n\n  getMessage() {\n     let message = '';\n     if (this.getValidationState() === 'error') {\n        message = 'The endpoint MUST return a JSON document describing the service, accessible vîa CORS or JSONP.';\n        let endpoint = this.state.service.endpoint;\n        if (endpoint !== undefined && (\n                endpoint.startsWith('http://')\n                && !endpoint.startsWith('http://localhost')\n                && !endpoint.startsWith('http://127.0.0.1'))) {\n           message += ' The endpoint SHOULD be available over HTTPS. Depending on your browser, this test bench might not be able to test reconciliation services over HTTP.';\n        }\n        return message;\n     }\n  }\n\n  handleSubmit(e) {\n     clearTimeout(this.timer);\n     this.validateEndpoint();\n     e.preventDefault();\n  }\n\n  render() {\n     return (\n        <Form horizontal onSubmit={(e) => this.handleSubmit(e)}>\n          <FormGroup controlId=\"endpointField\" validationState={this.getValidationState()}>\n            <Col componentClass={ControlLabel} sm={1}>Endpoint:</Col>\n            <Col sm={11}>\n                <FormControl type=\"text\" value={this.state.service.endpoint} placeholder=\"URL of the reconciliation service endpoint\" onChange={e => this.handleChange(e)}/>\n                <FormControl.Feedback />\n                <HelpBlock>{this.getMessage()}</HelpBlock>\n            </Col>\n          </FormGroup>\n        </Form>\n     );\n  }\n}\n","import React from 'react';\nimport {AsyncTypeahead} from 'react-bootstrap-typeahead';\n\nexport default class ReconcileSuggest extends React.Component {\n   constructor() {\n     super();\n     this.state = {\n        value: undefined,\n        suggestions: [],\n        isLoading: false,\n     };\n   }\n\n   getValue() {\n     if (this.props.onChange !== undefined) {\n        return this.props.value;\n     } else {\n        return this.state.value;\n     }\n   }\n\n   get manifest() {\n      if (!this.props.service) {\n\t return null;\n      } else {\n\t return this.props.service.manifest;\n      }\n   }\n\n   getUrl() {\n     if (!this.manifest || !this.manifest.suggest) {\n        return null;\n     }\n     let configuration = this.manifest.suggest[this.props.entityClass];\n     if (!configuration) {\n        return null;\n     }\n     return configuration.service_url + configuration.service_path;\n   }\n\n   onSuggestionsFetchRequested = (value) => {\n      let url = this.getUrl();\n      let params = {'prefix':value};\n      if (url === null) {\n         return;\n      }\n      this.setState({isLoading: true});\n      let fetcher = this.props.service.getFetcher();\n      fetcher(url, params)\n        .then(result => result.json())\n        .then(result => {\n           this.setState({suggestions: result.result, isLoading: false})})\n        .catch(e => {\n           console.log(e);\n           this.setState({isLoading: false});\n        });\n   };\n\n   onSuggestionsClearRequested = () => {\n      this.setState({suggestions:[]});\n   };\n\n   onChange = (newValue) => {\n     if (this.props.onChange === undefined) {\n       this.setState({\n         value: newValue[0]\n       });\n     } else {\n        this.props.onChange(newValue[0]);\n     }\n   };\n\n   render() {\n      return (\n        <AsyncTypeahead id={this.props.id}\n           disabled={this.getUrl() === null}\n           isLoading={this.state.isLoading}\n           onSearch={this.onSuggestionsFetchRequested}\n           options={this.state.suggestions}\n           labelKey=\"name\"\n           filterBy={(option,props) => true}\n           selected={this.getValue() ? [this.getValue()] : []}\n           onChange={this.onChange}\n           renderMenuItemChildren={(option, props, index) => \n              <>\n                 <span className=\"suggestItemId\">{option.id}</span>\n                 {Array.isArray(option.broader) && option.broader.length && <span className=\"suggestItemId\">{option.broader.map(e => e.id).join(', ')} &gt; </span>}\n                 <span className=\"suggestItemLabel\">{option.name}</span><br />\n                 <span className=\"suggestItemDescription\">{option.description}</span>\n              </>\n           }\n         />\n      );\n   }\n}\n\n","import React from 'react';\nimport Button from 'react-bootstrap/lib/Button';\nimport InputGroup from 'react-bootstrap/lib/InputGroup';\nimport FormControl from 'react-bootstrap/lib/FormControl';\nimport ReconcileSuggest from './ReconcileSuggest.js';\n\n/**\n * An input which can either have autocompletion enabled\n * (thanks to a suggest service) or be a simple,\n * blank input (without autocompletion) if that is not\n * available from the service.\n */\nexport default class GenericInput extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n           value: undefined\n        }\n    }\n\n    getValue() {\n        if (this.props.onChange !== undefined) {\n            return this.props.value;\n        } else {\n            return this.state.value;\n        }\n    }\n\n    get manifest() {\n        if (!this.props.service) {\n            return null;\n        } else {\n            return this.props.service.manifest;\n        }\n    }\n\n    get placeholder() {\n        return this.props.entityClass + ' id'\n    }\n\n    get currentValue() {\n        if (this.props.onChange === undefined) {\n           return this.state.value;\n        } else {\n           return this.props.value || this.state.value;\n        }\n    }\n\n    get currentId() {\n        let val = this.currentValue;\n        return val === undefined ? undefined : val.id;\n    }\n\n    get hasAutocomplete() {\n        return (this.manifest && this.manifest.suggest && this.manifest.suggest[this.props.entityClass]);\n    }\n\n    onSuggestChange = (newValue) => {\n        this.setState({ value: newValue });\n        if (this.props.onChange !== undefined) {\n            this.props.onChange(newValue);\n        }\n    }\n\n    onIdChange = (e) => {\n        let newValue = {\n                id: e.currentTarget.value,\n                name: e.currentTarget.value\n        };\n        if (this.props.onChange === undefined) {\n            this.setState({ value: newValue });\n        } else if (this.props.explicitSubmit === undefined) {\n            this.props.onChange(newValue);\n        } else {\n            this.setState({ value: newValue });\n        }\n    } \n\n    onSubmit = (e) => {\n        this.props.onChange(this.state.value);\n        e.preventDefault();\n    }\n\n    render() {\n        return (this.hasAutocomplete ?\n            (<ReconcileSuggest service={this.props.service} entityClass={this.props.entityClass} onChange={this.onSuggestChange} value={this.currentValue} />)\n          : (\n                (this.props.explicitSubmit !== undefined ?\n                <InputGroup>\n                   <FormControl\n                      type=\"text\"\n                      placeholder={this.placeholder}\n                      value={this.currentId || ''} \n                      onChange={this.onIdChange} />\n                    <InputGroup.Button>\n                        <Button onClick={this.onSubmit} type=\"submit\" bsStyle=\"primary\">Submit</Button>\n                    </InputGroup.Button>\n                </InputGroup>\n                : \n                   <FormControl\n                      type=\"text\"\n                      placeholder={this.placeholder}\n                      value={this.currentId || ''} \n                      onChange={this.onIdChange} />\n\n             )\n        ));\n    }\n}\n","\nimport React from 'react';\nimport FormControl from 'react-bootstrap/lib/FormControl';\nimport Button from 'react-bootstrap/lib/Button';\nimport GenericInput from './GenericInput.js';\n\nexport default class PropertyMapping extends React.Component {\n\n  newMapping = () => {\n     this.emitChange(\n          this.props.value.concat([{\n              property: undefined,\n              value: '',\n       }])\n    );\n  }\n\n  deleteMapping = (idx) => {\n     let newArray = this.props.value.slice();\n     newArray.splice(idx, 1);\n     this.emitChange(newArray);\n  }\n\n  onValueChange = (idx, e) => {\n     let newArray = this.props.value.slice();\n     let {property} = newArray[idx];\n     newArray[idx] = {property, value: e.currentTarget.value};\n     this.emitChange(newArray);\n  }\n\n  onPropertyChange = (idx, propertyValue) => {\n     console.log('new property value');\n     console.log(idx);\n     console.log(propertyValue);\n     let newArray = this.props.value.slice();\n     let {value} = newArray[idx];\n     newArray[idx] = {property:propertyValue, value};\n     console.log(newArray);\n     this.emitChange(newArray);\n  }\n\n  emitChange(newValue) {\n     if (this.props.onChange) {\n        this.props.onChange(newValue);\n     }\n  }\n\n  renderMappings() {\n     return this.props.value.map((mapping, idx) =>\n        <div style={{display: 'inline-block', marginBottom: '5px'}} key={idx}>\n            <div style={{display: 'inline-block', width: '45%'}}>\n                <GenericInput\n                   service={this.props.service}\n                   entityClass=\"property\"\n                   id={'mapping-property-'+idx}\n                   value={mapping.property}\n                   onChange={v => this.onPropertyChange(idx, v)} />\n            </div>\n            <div style={{display: 'inline-block', width: '45%'}}>\n                <FormControl\n                   type=\"text\"\n                   placeholder=\"Type a value\"\n                   value={mapping.value || ''}\n                   onChange={e => this.onValueChange(idx, e)} /></div>\n          <Button bsStyle=\"primary\" bsSize=\"xsmall\" onClick={() => this.deleteMapping(idx)} title=\"delete property\"><span className=\"glyphicon glyphicon-trash\"></span></Button>\n        </div>\n     );\n  }\n\n  render() {\n     return (\n        <div>\n           {this.renderMappings()}<br />\n           <Button onClick={this.newMapping}>Add property</Button>\n        </div>\n     );\n  }\n}\n","\nimport React from 'react';\nimport Badge from 'react-bootstrap/lib/Badge';\nimport ListGroupItem from 'react-bootstrap/lib/ListGroupItem';\n\nexport default class Candidate extends React.Component {\n\n     get url() {\n        let view = null;\n        let manifest = this.props.manifest;\n        if ('view' in manifest && 'url' in this.props.manifest.view && 'id' in this.props.candidate) {\n            view = this.props.manifest.view.url.replace('{{id}}', this.props.candidate.id);\n        }\n        return view;\n     }\n\n     renderDescription() {\n        let description = this.props.candidate.description;\n        if (description !== undefined) {\n          return (<span><br />{description}</span>);\n        } else {\n           return (<span />);\n        }\n     }\n\n     renderTypes() {\n        let types = this.props.candidate.type;\n        if (types !== undefined) {\n          return (<span><br />\n              {types.map((type, idx) => [\n                  idx > 0 && \", \",\n                  type.name + ' (' + type.id + ')'\n               ])}\n          </span>);\n        }\n     }\n\n     render() {\n        let candidate = this.props.candidate;\n        return (<ListGroupItem key={candidate.id} header={candidate.name} active={candidate.match}>\n                <a href={this.url}>{candidate.id}</a>\n                <Badge style={{float: 'right'}}>{this.props.candidate.score}</Badge>\n                {this.renderDescription()}\n                {this.renderTypes()}\n            </ListGroupItem>);\n     }\n}\n","import React from 'react';\n\nexport default class PreviewRenderer extends React.Component {\n  iframe = function() {\n    const iframeUrl = this.props.settings.url.replace('{{id}}', encodeURIComponent(this.props.id));\n    if (!Number.isInteger(this.props.settings.height) || !Number.isInteger(this.props.settings.width)) {\n        return {__html:`<p>The manifest must provide the width and height of the preview iframe as integers.</p>`};\n    }\n    try {\n        new URL(iframeUrl);\n        // we have a valid URL\n        return {__html:`<iframe src=\"${iframeUrl}\" height=\"${this.props.settings.height}\" width=\"${this.props.settings.width}\" scrolling=\"no\"></iframe>`};\n    } catch(_) {\n        return {__html:`<p>Invalid URL generated by the preview service URL template.</p>`};\n    }\n  }\n\n  render() {\n    return (\n     <div>\n        {(this.props.id === undefined ?\n         <div /> :\n         <div dangerouslySetInnerHTML={this.iframe()} />\n        )}\n     </div>\n    );\n  }\n}\n\n","\n\nimport React from 'react';\nimport ListGroupItem from 'react-bootstrap/lib/ListGroupItem';\n\n/**\n * Renders a value returned by a data extension service\n * to a list item.\n */\nexport default class DataExtensionValue extends React.Component {\n\n        get renderedValue() {\n            const val = this.props.value;\n            if (val.date !== undefined) {\n                return val.date;\n            } else if (val.id !== undefined && val.name !== undefined) {\n                return val.name;\n            } else if (val.str !== undefined) {\n                return val.str;\n            } else if (val.float !== undefined) {\n                return val.float;\n            } else if (val.int !== undefined) {\n                return val.int;\n            } else {\n                return 'Singleton';\n            }\n        }\n\n        get datatype() {\n            const val = this.props.value;\n            if (val.date !== undefined) {\n                return 'date';\n            } else if (val.id !== undefined && val.name !== undefined) {\n                return val.id;\n            } else if (val.str !== undefined) {\n                return 'string';\n            } else if (val.float !== undefined) {\n                return 'floating-point number';\n            } else if (val.int !== undefined) {\n                return 'integer';\n            } else {\n                return 'empty';\n            }\n        }\n\n        render() {\n            return (<ListGroupItem key={this.props.key} header={this.renderedValue}>\n                        {this.datatype}\n                </ListGroupItem>);\n        }\n}\n","import React from 'react';\nimport Form from 'react-bootstrap/lib/Form';\nimport FormGroup from 'react-bootstrap/lib/FormGroup';\nimport InputGroup from 'react-bootstrap/lib/InputGroup';\nimport Button from 'react-bootstrap/lib/Button';\nimport Col from 'react-bootstrap/lib/Col';\nimport ControlLabel from 'react-bootstrap/lib/ControlLabel';\nimport ListGroup from 'react-bootstrap/lib/ListGroup';\nimport GenericInput from './GenericInput.js';\nimport DataExtensionValue from './DataExtensionValue.js';\nimport JSONTree from 'react-json-tree';\nimport {jsonTheme} from './utils.js';\nimport { getSchema } from './JsonValidator.js';\n\nexport default class DataExtensionTab extends React.Component {\n\n  constructor() {\n      super();\n      this.state = {\n        entity: undefined,\n        property: undefined,\n        extendResults: undefined,\n        validationErrors: []\n      };\n  }\n\n  onEntityChange = (newValue) => {\n      this.setState({\n          entity: newValue,\n          extendResults: undefined,\n          validationErrors: []\n      });\n  }\n\n  onPropertyChange = (newValue) => {\n      this.setState({\n          property: newValue,\n          extendResults: undefined,\n          validationErrors: []\n      });\n  }\n\n  formulateQuery() {\n      if (this.state.entity !== undefined && this.state.property !== undefined) {\n          return {\n            ids: [this.state.entity.id],\n            properties: [{id: this.state.property.id}]\n          };\n      } else {\n          return {};\n      }\n  }\n\n  formulateQueryUrl() {\n      let baseUrl = this.props.service.endpoint;\n      if (!baseUrl) {\n         return '#';\n      }\n      let params = {\n        extend: JSON.stringify(this.formulateQuery())\n      };\n      let url = new URL(baseUrl);\n      Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n      return url.toString();\n  }\n\n  resetQuery = (e) => {\n        e.preventDefault();\n        this.setState({\n                entity: undefined,\n                property: undefined,\n                extendResults: undefined,\n                validationErrors: undefined\n        });\n  }\n\n  submitQuery = (e) => {\n        e.preventDefault();\n        this.setState({extendResults: 'fetching'});\n        let fetcher = this.props.service.getFetcher();\n        fetcher(this.formulateQueryUrl(), {timeout: 20000})\n           .then(result => result.json())\n           .then(result =>\n               this.setState({\n                  extendResults: result,\n                  validationErrors: this.validateServiceResponse(result)\n               })\n           )\n           .catch(e => {\n              this.setState({\n                exdentResults: 'failed',\n                extendError: e.message\n              });\n           });\n  }\n\n  renderResponseValidationErrors() {\n        return <div/>;\n  }\n\n  renderQueryResults() {\n        if (this.state.extendResults === 'fetching') {\n             return (<div className=\"resultsPlaceholder\">Querying the service...</div>);\n        } else if (this.state.extendResults === 'failed') {\n             return (<div className=\"resultsPlaceholder\">Error: {this.state.extendError}</div>);\n        } else if (this.state.extendResults === undefined || this.state.entity === undefined || this.state.property === undefined) {\n             return (<div />);\n        } else {\n             if (this.state.extendResults.rows === undefined) {\n                  return (<span className=\"resultsPlaceholder\">No <code>rows</code> attribute in the response.</span>);\n             }\n             if (this.state.extendResults.rows[this.state.entity.id] === undefined) {\n                  return (<span className=\"resultsPlaceholder\">Missing <code>rows.{this.state.entity.id}</code> object in the response.</span>);\n             }\n             if (this.state.extendResults.rows[this.state.entity.id][this.state.property.id] === undefined) {\n                  return (<span className=\"resultsPlaceholder\">Missing <code>rows.{this.state.entity.id}{this.state.property.id}</code> object in the response.</span>);\n             }\n             const values = this.state.extendResults.rows[this.state.entity.id][this.state.property.id];\n             if (values.length === 0) {\n                  return (<span className=\"noResults\">No results</span>);\n             }\n             return (\n                <ListGroup>\n                   {values.map((value, idx) =>\n                        <DataExtensionValue value={value} key={\"data-extension-result-\"+idx} />)}\n                </ListGroup>);\n        }\n  }\n\n  validateServiceResponse(response) {\n\tlet schema = getSchema(this.props.service.latestCompatibleVersion, 'data-extension-response'); \n        let valid = schema(response);\n        if (!valid) {\n             return schema.errors.map(error => error.dataPath+' '+error.message);\n        } else {\n             return [];\n        }\n  }\n\n  render() {\n    return (\n     <div>\n        <Col sm={5}>\n            <Form horizontal>\n                <FormGroup controlId=\"dataExtensionEntity\">\n                    <Col componentClass={ControlLabel} sm={2}>Entity:</Col>\n                    <Col sm={10}>\n                        <GenericInput\n                            service={this.props.service}\n                            placeholder=\"Entity to fetch data from\"\n                            value={this.state.entity}\n                            entityClass=\"entity\"\n                            onChange={this.onEntityChange} />\n                    </Col>\n                </FormGroup>\n                <FormGroup controlId=\"dataExtensionProperty\">\n                    <Col componentClass={ControlLabel} sm={2}>Property:</Col>\n                    <Col sm={10}>\n                            <GenericInput\n                                service={this.props.service}\n                                placeholder=\"Property to fetch on the entity\"\n                                value={this.state.property}\n                                entityClass=\"property\"\n                                onChange={this.onPropertyChange} />\n                    </Col>\n                </FormGroup>\n                <FormGroup controlId=\"submitGroup\">\n                        <Col sm={10} />\n                        <Col sm={2}>\n                            <InputGroup>\n                                <InputGroup.Button><Button onClick={this.resetQuery} type=\"submit\" bsStyle=\"default\">Reset</Button></InputGroup.Button>\n                                <InputGroup.Button><Button onClick={this.submitQuery} type=\"submit\" bsStyle=\"primary\">Submit</Button></InputGroup.Button>\n                            </InputGroup>\n                        </Col>\n                </FormGroup>\n            </Form>\n        </Col>\n        <Col sm={3}>\n            <JSONTree\n                    theme={jsonTheme}\n                    data={this.formulateQuery()}\n                    getItemString={(type, data, itemType, itemString) => ''}\n                    shouldExpandNode={(keyName, data, level) => true}\n                    hideRoot={true} />\n            <br />\n            <a href={this.formulateQueryUrl()} title=\"See query results on the service\" target=\"_blank\" rel=\"noopener noreferrer\">View query results on the service</a>\n            {this.renderResponseValidationErrors()}\n        </Col>\n        <Col sm={4}>\n            {this.renderQueryResults()}\n        </Col>\n\n     </div>\n    );\n  }\n}\n\n","import React from 'react';\nimport Alert from 'react-bootstrap/lib/Alert';\nimport Tabs from 'react-bootstrap/lib/Tabs';\nimport Tab from 'react-bootstrap/lib/Tab';\nimport Form from 'react-bootstrap/lib/Form';\nimport FormGroup from 'react-bootstrap/lib/FormGroup';\nimport InputGroup from 'react-bootstrap/lib/InputGroup';\nimport FormControl from 'react-bootstrap/lib/FormControl';\nimport Radio from 'react-bootstrap/lib/Radio';\nimport Button from 'react-bootstrap/lib/Button';\nimport Col from 'react-bootstrap/lib/Col';\nimport ControlLabel from 'react-bootstrap/lib/ControlLabel';\nimport ListGroup from 'react-bootstrap/lib/ListGroup';\nimport ReconcileSuggest from './ReconcileSuggest.js';\nimport PropertyMapping from './PropertyMapping.js';\nimport Candidate from './Candidate.js';\nimport GenericInput from './GenericInput.js';\nimport PreviewRenderer from './PreviewRenderer.js';\nimport DataExtensionTab from './DataExtensionTab.js';\nimport JSONTree from 'react-json-tree';\nimport { getSchema } from './JsonValidator.js';\nimport { jsonTheme } from './utils.js';\n\nexport default class TestBench extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n        reconQuery: '',\n        reconType: 'no-type',\n        reconCustomType: undefined,\n        reconProperties: [],\n        reconLimit: undefined,\n        reconResponseValidationErrors: [],\n        previewEntityId : undefined\n    };\n  }\n\n  onReconQueryChange = (e) => {\n    this.setState({\n        reconQuery: e.currentTarget.value\n    });\n  }\n\n  onReconTypeChange = (e) => {\n    this.setState({\n        reconType: e.currentTarget.value\n    });\n  }\n\n  onCustomTypeChange = (v) => {\n    this.setState({\n        reconCustomType: v\n    });\n  }\n\n  onReconPropertiesChange = (values) => {\n    this.setState({\n        reconProperties: values\n    });\n  }\n\n  onReconLimitChange = (e) => {\n    this.setState({\n        reconLimit: e.currentTarget.value\n    });\n  }\n\n  onPreviewEntityChange = (value) => {\n    this.setState({\n        previewEntityId: value !== undefined ? value.id : undefined\n    });\n  };\n\n  get defaultTypes() {\n     if (this.props.service && this.props.service.manifest) {\n        return this.props.service.manifest.defaultTypes || [];\n    } else {\n        return [];\n    }\n  }\n\n  get hasTypeSuggest() {\n     return (this.props.service &&\n\t     this.props.service.manifest &&\n\t     this.props.service.manifest.suggest &&\n\t     this.props.service.manifest.suggest.type);\n  }\n\n  get hasPropertySuggest() {\n     return (this.props.service &&\n\t     this.props.service.manifest &&\n\t     this.props.service.manifest.suggest &&\n\t     this.props.service.manifest.suggest.property);\n  }\n\n  get hasPreviewService() {\n     return (this.props.service &&\n             this.props.service.manifest &&\n             this.props.service.manifest.preview);\n  } \n\n  get hasDataExtension() {\n     return (this.props.service &&\n             this.props.service.manifest &&\n             this.props.service.manifest.extend);\n  }\n\n  onSubmitReconciliation = (e) => {\n     e.preventDefault();\n     if (!this.props.service || !this.props.service.endpoint) {\n        return;\n     }\n     this.setState({reconResults: 'fetching'});\n     let fetcher = this.props.service.getFetcher();\n     fetcher(this.formulateQueryUrl(), {timeout: 20000})\n        .then(result => result.json())\n        .then(result =>\n           this.setState({\n              reconResults: result.q0.result,\n              reconResponseValidationErrors: this.validateServiceResponse('reconciliation-result-batch', result)\n        }))\n        .catch(e => {\n            this.setState({\n              reconError: e.message,\n              reconResults: 'failed',\n        })});\n  }\n\n  validateServiceResponse(schemaName, response) {\n     let schema = getSchema(this.props.service.latestCompatibleVersion, schemaName);\n     let valid = schema(response);\n     if (!valid) {\n        return schema.errors.map(error => error.dataPath+' '+error.message);\n     } else {\n        return [];\n     }\n  }\n\n  renderQueryResults() {\n     if (this.state.reconResults === 'fetching') {\n        return (<div className=\"resultsPlaceholder\">Querying the service...</div>);\n     } else if (this.state.reconResults === 'failed') {\n        return (<div className=\"resultsPlaceholder\">Error: {this.state.reconError}</div>);\n     } else if (this.state.reconResults === undefined) {\n        return (<div />);\n     } else {\n        if (this.state.reconResults.length === 0) {\n           return (<span className=\"noResults\">No results</span>);\n        }\n        return (\n          <ListGroup>\n            {this.state.reconResults.map(result =>\n              <Candidate candidate={result} manifest={this.props.service.manifest} />\n            )}\n          </ListGroup>\n        );\n     }\n  }\n\n  renderReconResponseValidationErrors() {\n    if (this.state.reconResponseValidationErrors.length === 0) {\n        return (<div />);\n    } else {\n        return (<Alert bsStyle=\"warning\">\n           <strong>Validations error for reconcilation response</strong>\n           <ul>\n           {this.state.reconResponseValidationErrors.map((error, idx) => \n              <li key={idx}>{error}</li>\n           )}\n          </ul>\n        </Alert>);\n    }\n  }\n\n  renderManifestValidationErrors() {\n     let manifest = this.props.service.manifest;\n     let errors = this.validateServiceResponse('manifest', manifest);\n     if (errors.length === 0) {\n        return (<div />);\n     } else {\n        return (<Alert bsStyle=\"warning\">\n           <strong>Validation errors for service manifest</strong>\n           <ul>\n                {errors.map((error, idx) =>\n                  (<li key={idx}>{error}</li>))}\n           </ul>\n        </Alert>);\n     }\n  }\n\n  formulateReconQuery() {\n     let query = {\n        query: this.state.reconQuery,\n     };\n     if (this.state.reconType === 'custom-type' && this.state.reconCustomType !== undefined) {\n        query.type = this.state.reconCustomType.id;\n     } else if (this.state.reconType !== 'no-type') {\n        query.type = this.state.reconType;\n     }\n     if (this.state.reconProperties.length > 0) {\n        query.properties = this.state.reconProperties\n           .filter(m => m !== undefined && m.property && m.value)\n           .map(m => {return {pid: m.property.id, v: m.value}})\n     }\n     if (!isNaN(parseInt(this.state.reconLimit))) {\n        query.limit = parseInt(this.state.reconLimit);\n     }\n     return query;\n  }\n\n  formulateQueryUrl() {\n     let baseUrl = this.props.service.endpoint;\n     if (!baseUrl) {\n        return '#';\n     }\n     let params = {\n        queries: JSON.stringify({q0: this.formulateReconQuery()})\n     };\n     let url = new URL(baseUrl);\n     Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n     return url.toString();\n  }\n\n  renderTypeChoices() {\n    let current = this.state.reconType;\n    let choices = this.defaultTypes.map(t =>\n       <Radio\n          name=\"reconcileType\"\n          key={\"key_\"+t.id}\n          value={t.id}\n          checked={current === t.id}\n          onChange={this.onReconTypeChange}>\n        {t.name}<br />\n        {Array.isArray(t.broader) && t.broader.length && <span className=\"reconTypeId\">{t.broader.map(e => e.id).join(', ')} &gt; </span>}<span className=\"reconTypeId\">{t.id}</span>\n      </Radio>\n    );\n    if (this.hasTypeSuggest) {\n       choices.push(<Radio\n         name=\"reconcileType\"\n         key=\"custom-type\"\n         value=\"custom-type\"\n         checked={current === 'custom-type'}\n         onChange={this.onReconTypeChange}>\n           Custom:\n           <div>\n             <ReconcileSuggest\n                service={this.props.service}\n                entityClass=\"type\"\n                id=\"recon-custom-type-suggest\"\n                value={this.state.reconCustomType}\n                onChange={this.onCustomTypeChange} />\n           </div>\n        </Radio>);\n    }\n    choices.push(<Radio\n        name=\"reconcileType\"\n        key=\"no-type\"\n        value=\"no-type\"\n        checked={current === 'no-type'}\n        onChange={this.onReconTypeChange}>Reconcile against no particular type</Radio>);\n    return choices;\n  }\n\n  render() {\n    return (\n       <div>\n        {this.renderManifestValidationErrors()}\n        <Tabs defaultActiveKey=\"reconcile\" animation={false} id=\"test-bench-tabs\">\n            <Tab eventKey=\"reconcile\" title=\"Reconcile\">\n                <div className=\"tabContent\">\n                <Col sm={5}>\n                    <Form horizontal>\n                        <FormGroup controlId=\"reconcileName\">\n                            <Col componentClass={ControlLabel} sm={2}>Name:</Col>\n                            <Col sm={10}>\n                                <InputGroup>\n                                <FormControl\n                                    type=\"text\"\n                                    placeholder=\"Entity to reconcile\"\n                                    value={this.state.reconQuery}\n                                    onChange={this.onReconQueryChange} />\n                                    <InputGroup.Button><Button onClick={this.onSubmitReconciliation} type=\"submit\" bsStyle=\"primary\" disabled={!this.props.service}>Reconcile</Button></InputGroup.Button>\n                                </InputGroup>\n                            </Col>\n                        </FormGroup>\n                        <FormGroup controlId=\"reconcileType\">\n                            <Col componentClass={ControlLabel} sm={2}>Type:</Col>\n                            <Col sm={10}>\n                                {this.renderTypeChoices()}\n                            </Col>\n                        </FormGroup>\n                        <FormGroup controlId=\"reconcileProperties\">\n                            <Col componentClass={ControlLabel} sm={2}>Properties:</Col>\n                            <Col sm={10}>\n                                <PropertyMapping service={this.props.service} value={this.state.reconProperties} onChange={this.onReconPropertiesChange} />\n                            </Col>\n                        </FormGroup>\n                        <FormGroup controlId=\"reconcileLimit\">\n                            <Col componentClass={ControlLabel} sm={2}>Limit:</Col>\n                            <Col sm={10}>\n                            <FormControl\n                                    type=\"number\"\n                                    placeholder=\"Maximum number of candidates\"\n                                    value={this.state.reconLimit}\n                                    onChange={(v) => this.onReconLimitChange(v)} />\n                            </Col>\n                        </FormGroup>\n                    </Form>\n                </Col>\n                <Col sm={3}>\n                    <JSONTree\n                            theme={jsonTheme}\n                            data={this.formulateReconQuery()}\n                            getItemString={(type, data, itemType, itemString) => ''}\n                            shouldExpandNode={(keyName, data, level) => true}\n                            hideRoot={true} />\n                    <br />\n                    <a href={this.formulateQueryUrl()} title=\"See query results on the service\" target=\"_blank\" rel=\"noopener noreferrer\">View query results on the service</a>\n                    {this.renderReconResponseValidationErrors()}\n                </Col>\n                <Col sm={4}>\n                    {this.renderQueryResults()}\n                </Col>\n                </div>\n            </Tab>\n            <Tab eventKey=\"suggest\" title=\"Suggest\">\n                <div className=\"tabContent\">\n                <Form horizontal>\n                    <FormGroup controlId=\"suggestEntityTestBench\">\n                        <Col componentClass={ControlLabel} sm={1}>Entity:</Col>\n                        <Col sm={11}>\n                            <ReconcileSuggest service={this.props.service} entityClass=\"entity\" id=\"entity-suggest-test\" />\n                        </Col>\n                    </FormGroup>\n                    <FormGroup controlId=\"suggestTypeTestBench\">\n                        <Col componentClass={ControlLabel} sm={1}>Type:</Col>\n                        <Col sm={11}>\n                            <ReconcileSuggest service={this.props.service} entityClass=\"type\" id=\"type-suggest-test\" />\n                        </Col>\n                    </FormGroup>\n                    <FormGroup controlId=\"suggestPropertyTestBench\">\n                        <Col componentClass={ControlLabel} sm={1}>Property:</Col>\n                        <Col sm={11}>\n                            <ReconcileSuggest service={this.props.service} entityClass=\"property\" id=\"property-suggest-test\" />\n                        </Col>\n                    </FormGroup>\n                </Form>\n                </div>\n            </Tab>\n            <Tab eventKey=\"preview\" title=\"Preview\" disabled={!this.hasPreviewService}>\n            <div className=\"tabContent\">\n                {(this.hasPreviewService ?\n                  <div>\n                    <Form horizontal>\n                        <FormGroup controlId=\"suggestEntityTestBench\">\n                            <Col componentClass={ControlLabel} sm={1}>Entity:</Col>\n                            <Col sm={11}>\n                                <GenericInput service={this.props.service} entityClass=\"entity\" id=\"entity-input-preview\" explicitSubmit onChange={this.onPreviewEntityChange} />\n                            </Col>\n                        </FormGroup>\n                    </Form>\n                    <PreviewRenderer id={this.state.previewEntityId} settings={this.props.service.manifest.preview} />\n                 </div>\n                 : <p>Previewing is not supported by the service.</p>)}\n            </div>\n            </Tab>\n            <Tab eventKey=\"extend\" title=\"Extend\" disabled={!this.hasDataExtension}>\n            <div className=\"tabContent\">\n                {(this.hasDataExtension ?\n                    <DataExtensionTab service={this.props.service} />\n                 : <p>Data extension is not supported by the service.</p>)}\n            </div>\n            </Tab>\n        </Tabs>\n       </div>\n    );\n  }\n}\n","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './style.css';\nimport FeatureTable from './FeatureTable.js';\nimport FeatureRow from './FeatureRow.js';\nimport TabLink from './TabLink.js';\nimport ReconciliationServiceInput from './ReconciliationServiceInput.js';\nimport TestBench from './TestBench.js';\nimport { HashRouter, Switch, Route, useParams, useHistory } from \"react-router-dom\";\n\n\nfunction TestbenchTab({ servicesMap, onEndpointChange }) {\n\n   var { endpoint } = useParams();\n   endpoint = endpoint ? decodeURIComponent(endpoint) : undefined;\n   let service = servicesMap[endpoint];\n   let testBench = <div />;\n   if (endpoint && service) {\n      testBench = (<TestBench service={service} key={`testbench-{endpoint}`}/>);\n   }\n\n   let history = useHistory();\n   let handleChange = function (service) {\n      onEndpointChange(service);\n      if (service) {\n        history.push(`/client/${encodeURIComponent(service.endpoint)}`);\n      }\n   };\n\n   return (\n    <div className=\"tabContent\">\n        <p>This form lets you test a reconciliation endpoint interactively.</p>\n        <ReconciliationServiceInput\n            onChange={handleChange}\n            initialService={service || { endpoint } }\n            key={endpoint} />\n        {testBench}\n    </div>);\n}\n\nfunction TableTab({ onEndpointSelect, style }) {\n\n   let history = useHistory();\n   \n   let handleSelect = function (service) {\n      onEndpointSelect(service);\n      history.push(`/client/${encodeURIComponent(service.endpoint)}`);\n   };\n\n   return (<div className=\"tabContent\" style={style}>\n        <p>This table lists reconciliation services known to <a href=\"https://www.wikidata.org/\">Wikidata</a> and\n            indicates which features of the <a href=\"https://reconciliation-api.github.io/specs/latest/\">reconciliation API</a> they support.\n        </p>\n        <p>If you are viewing this app over HTTPS it is likely that reconciliation services using HTTP are blocked as \"mixed content\". You can disable this protection in your browser to load HTTP reconciliation services.</p>\n        <FeatureTable onSelect={handleSelect}> \n            <FeatureRow name=\"OpenCorporates\" endpoint=\"https://opencorporates.com/reconcile\" documentation=\"https://api.opencorporates.com/documentation/Open-Refine-Reconciliation-API\" />\n        </FeatureTable>\n    </div>);\n}\n\nexport default class App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      selectedEndpoint: '',\n      servicesMap: {},\n      openTab: 'servicesList',\n      refreshing: false,\n      servicesList: []\n    };\n  }\n\n  onEndpointSelect = (service) => {\n    let newServicesMap = Object.assign(this.state.servicesMap);\n    if (service) {\n      newServicesMap[service.endpoint] = service;\n    }\n    this.setState({\n      selectedEndpoint: service ? service.endpoint : undefined,\n      servicesMap: newServicesMap,\n      openTab: 'testBench',\n   });\n  }\n\n  handleTabSelect = (key) => {\n     this.setState({ openTab: key });\n  };\n\n  render() {\n    return (\n    <HashRouter>\n      <div className=\"App\" style={{margin: '20px'}}>\n        <h1>Reconciliation service test bench</h1>\n        <p style={{float: 'right'}}><a href=\"https://github.com/reconciliation-api/testbench\">Source repository</a></p>\n        <ul className=\"nav nav-tabs\">\n            <TabLink to=\"/\" title=\"Services\" exact=\"true\" />\n            <TabLink to=\"/client/\" title=\"Test bench\" />\n        </ul>\n        <Switch>\n           <Route path=\"/client/:endpoint\">\n             <TestbenchTab servicesMap={this.state.servicesMap} onEndpointChange={this.onEndpointSelect} />\n           </Route>\n           <Route path=\"/client/\">\n             <TestbenchTab servicesMap={this.state.servicesMap} onEndpointChange={this.onEndpointSelect} />\n           </Route>\n        </Switch>\n        <Route exact path=\"/\" children={({ match }) =>\n          <TableTab onEndpointSelect={this.onEndpointSelect}  style={{display: match ? 'block' : 'none'}} />} />\n      </div>\n    </HashRouter>\n    );\n  }\n}\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}